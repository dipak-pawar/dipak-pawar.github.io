<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Disk Partitioning | Dipak Pawar</title><meta name=keywords content="linux,storage,basics,TIL"><meta name=description content="What&rsquo;s Partition? Disk Partitioning allows you to divide hard drive into multiple logical sections. There are several reasons why we do it:
 Multi-boot OS Easier backup Different filesystems to be installed on different partitions Clear separation between operating system and user files  Partitioning Schemes MBR & GPT are two different schemes available to do partitions.
MBR MBR supports maximum four primary partitions. On Linux, one can create more partitions having three primary & one extended partition which may contain multiple logical partitions."><meta name=author content="Dipak Pawar"><link rel=canonical href=https://dipak-pawar.github.io/posts/disk-partitioning/><link crossorigin=anonymous href=/assets/css/stylesheet.min.35cd0f65a15cafa92372b8313deef5960aae04b90ad722f2bbf509eb0468137e.css integrity="sha256-Nc0PZaFcr6kjcrgxPe71lgquBLkK1yLyu/UJ6wRoE34=" rel="preload stylesheet" as=style><link rel=preload href=/logo.png as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://dipak-pawar.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://dipak-pawar.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://dipak-pawar.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://dipak-pawar.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://dipak-pawar.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.83.1"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="Disk Partitioning"><meta property="og:description" content="What&rsquo;s Partition? Disk Partitioning allows you to divide hard drive into multiple logical sections. There are several reasons why we do it:
 Multi-boot OS Easier backup Different filesystems to be installed on different partitions Clear separation between operating system and user files  Partitioning Schemes MBR & GPT are two different schemes available to do partitions.
MBR MBR supports maximum four primary partitions. On Linux, one can create more partitions having three primary & one extended partition which may contain multiple logical partitions."><meta property="og:type" content="article"><meta property="og:url" content="https://dipak-pawar.github.io/posts/disk-partitioning/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-06-18T16:30:28+05:30"><meta property="article:modified_time" content="2021-06-18T16:30:28+05:30"><meta property="og:site_name" content="Dipak Pawar"><meta name=twitter:card content="summary"><meta name=twitter:title content="Disk Partitioning"><meta name=twitter:description content="What&rsquo;s Partition? Disk Partitioning allows you to divide hard drive into multiple logical sections. There are several reasons why we do it:
 Multi-boot OS Easier backup Different filesystems to be installed on different partitions Clear separation between operating system and user files  Partitioning Schemes MBR & GPT are two different schemes available to do partitions.
MBR MBR supports maximum four primary partitions. On Linux, one can create more partitions having three primary & one extended partition which may contain multiple logical partitions."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://dipak-pawar.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Disk Partitioning","item":"https://dipak-pawar.github.io/posts/disk-partitioning/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Disk Partitioning","name":"Disk Partitioning","description":"What\u0026rsquo;s Partition? Disk Partitioning allows you to divide hard drive into multiple logical sections. There are several reasons why we do it:\n Multi-boot OS Easier backup Different filesystems to be installed on different partitions Clear separation between operating system and user files  Partitioning Schemes MBR \u0026amp; GPT are two different schemes available to do partitions.\nMBR MBR supports maximum four primary partitions. On Linux, one can create more partitions having three primary \u0026amp; one extended partition which may contain multiple logical partitions.","keywords":["linux","storage","basics","TIL"],"articleBody":"What’s Partition? Disk Partitioning allows you to divide hard drive into multiple logical sections. There are several reasons why we do it:\n Multi-boot OS Easier backup Different filesystems to be installed on different partitions Clear separation between operating system and user files  Partitioning Schemes MBR \u0026 GPT are two different schemes available to do partitions.\nMBR MBR supports maximum four primary partitions. On Linux, one can create more partitions having three primary \u0026 one extended partition which may contain multiple logical partitions.\nThe available size for block addresses and related information is limited to 32 bits. For hard disks with 512‑byte sectors, the MBR partition table entries allow a maximum size of 2 TiB (2^32 × 512‑bytes) or 2.20 TB (2.20 × 10¹² bytes).\nIn today’s world, we have physical disks greater than 2TiB in size, so MBR scheme having a maximum disk \u0026 partition size of 2TiB is really big problem, which is solved by GPT.\nGPT GPT addresses many of the limitations introduced by MBR \u0026 is Forming a part of the Unified Extensible Firmware Interface.\nGPT uses 64 bits for logical block addresses, allowing a maximum disk size of 2^64 sectors. For disks with 512‑byte sectors, the maximum size is 8 ZiB (2^64 × 512‑bytes) or 9.44 ZB (9.44 × 10^21 bytes).\nCreating Partitions We can create/manage partitions using parted, fdisk, gdisk. I’ll be using parted to play with partitions on USB drive.\nCreate GPT Partition Select disk to create partition\n# list devices [dipak@localhost ~]$ lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT sdb 8:16 1 14.9G 0 disk nvme0n1 259:0 0 953.9G 0 disk ├─nvme0n1p1 259:1 0 600M 0 part /boot/efi ├─nvme0n1p2 259:2 0 1G 0 part /boot └─nvme0n1p3 259:3 0 952.3G 0 part ├─fedora_localhost--live-root 253:0 0 70G 0 lvm │ └─luks-493fecbb-ff12-452a-914d-33f64d65e942 253:2 0 70G 0 crypt / ├─fedora_localhost--live-swap 253:1 0 19.5G 0 lvm │ └─luks-db8bdc6b-1e43-4074-89ca-1b412c35bc04 253:3 0 19.5G 0 crypt [SWAP] └─fedora_localhost--live-home 253:4 0 862.8G 0 lvm └─luks-c863fba7-ff0b-4896-9fcc-2e6144fccda4 253:5 0 862.8G 0 crypt /home # check current partition table [dipak@localhost ~]$ sudo parted /dev/sdb print Error: /dev/sdb: unrecognised disk label Model: Innostor Innostor (scsi) Disk /dev/sdb: 15.9GB Sector size (logical/physical): 512B/512B Partition Table: unknown Disk Flags: As you can see from above output, we don’t have any partition table on sdb device.\nCreate gpt partition of around 10 GiB.\n# create new disklabel `gpt`. [dipak@localhost ~]$ sudo parted /dev/sdb GNU Parted 3.3 Using /dev/sdb Welcome to GNU Parted! Type 'help' to view a list of commands. (parted) mklabel gpt # verify partition table (parted) print Model: Innostor Innostor (scsi) Disk /dev/sdb: 15.9GB Sector size (logical/physical): 512B/512B Partition Table: gpt Disk Flags: Number Start End Size File system Name Flags # create first `ext4` partition starting from 1MiB to 10GiB. (parted) mkpart Partition name? []? p1 File system type? [ext2]? ext4 Start? 1MiB End? 10GiB # check created partitions (parted) print Model: Innostor Innostor (scsi) Disk /dev/sdb: 15.9GB Sector size (logical/physical): 512B/512B Partition Table: gpt Disk Flags: Number Start End Size File system Name Flags 1 1049kB 10.7GB 10.7GB ext4 p1 Create filesystem \u0026 Mount it\n# check if we have any filesystem created on partition [dipak@localhost ~]$ lsblk /dev/sdb NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT sdb 8:16 1 14.9G 0 disk └─sdb1 8:17 1 10G 0 part # we don't have any filesystem on partition. Let's create ext4 filesystem on partition `/dev/sdb1`. [dipak@localhost ~]$ sudo mkfs.ext4 /dev/sdb1 mke2fs 1.45.5 (07-Jan-2020) Creating filesystem with 2621184 4k blocks and 655360 inodes Filesystem UUID: 3b4f2bbd-2c3d-4a2a-a317-4859d22d5894 Superblock backups stored on blocks: 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632 Allocating group tables: done Writing inode tables: done Creating journal (16384 blocks): done Writing superblocks and filesystem accounting information: done # verify `ext4` filesystem [dipak@localhost ~]$ lsblk --fs /dev/sdb NAME FSTYPE FSVER LABEL UUID FSAVAIL FSUSE% MOUNTPOINT sdb └─sdb1 ext4 1.0 3b4f2bbd-2c3d-4a2a-a317-4859d22d5894 # mount partition \u0026 create some data in it. sudo mkdir /mnt/data sudo mount /dev/sdb1 /mnt/data # check if partition is mounted [dipak@localhost ~]$ lsblk /dev/sdb NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT sdb 8:16 1 14.9G 0 disk └─sdb1 8:17 1 10G 0 part /mnt/data # we can permanently mount filesystems by updating`/etc/fstab` entries. UUID=3b4f2bbd-2c3d-4a2a-a317-4859d22d5894 /mnt/data ext4 defaults 0 2 Delete GPT Partition We have out friend wipefs which helps us to wipe signature from a device\n# check device [dipak@localhost ~]$ lsblk /dev/sdb NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT sdb 8:16 1 14.9G 0 disk └─sdb1 8:17 1 10G 0 part /mnt/data # unmount filesystem [dipak@localhost ~]$ sudo umount /dev/sdb1 # check filesystem is unmounted [dipak@localhost ~]$ lsblk /dev/sdb NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT sdb 8:16 1 14.9G 0 disk └─sdb1 8:17 1 10G 0 part # wipe signature from device [dipak@localhost ~]$ sudo wipefs -a /dev/sdb /dev/sdb: 8 bytes were erased at offset 0x00000200 (gpt): 45 46 49 20 50 41 52 54 /dev/sdb: 8 bytes were erased at offset 0x3b5fffe00 (gpt): 45 46 49 20 50 41 52 54 /dev/sdb: 2 bytes were erased at offset 0x000001fe (PMBR): 55 aa /dev/sdb: calling ioctl to re-read partition table: Success # check device after wiping signature [dipak@localhost ~]$ lsblk /dev/sdb NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT sdb 8:16 1 14.9G 0 disk # check partition table [dipak@localhost ~]$ sudo parted /dev/sdb print Error: /dev/sdb: unrecognised disk label Model: Innostor Innostor (scsi) Disk /dev/sdb: 15.9GB Sector size (logical/physical): 512B/512B Partition Table: unknown Disk Flags: Create MBR Partition Create MBR primary partition of around 10 GiB.\n# create dos label [dipak@localhost ~]$ sudo parted /dev/sdb mklabel msdos Information: You may need to update /etc/fstab. # create primary partition of 10GiB [dipak@localhost ~]$ sudo parted /dev/sdb mkpart primary xfs 1MiB 10GiB Information: You may need to update /etc/fstab. # verify created partition [dipak@localhost ~]$ sudo parted /dev/sdb print Model: Innostor Innostor (scsi) Disk /dev/sdb: 15.9GB Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 1 1049kB 10.7GB 10.7GB primary ext4 Delete MBR Partition Let’s not use wipefs -a this time.\n# check current partition table [dipak@localhost ~]$ sudo parted /dev/sdb GNU Parted 3.3 Using /dev/sdb Welcome to GNU Parted! Type 'help' to view a list of commands. (parted) print Model: Innostor Innostor (scsi) Disk /dev/sdb: 15.9GB Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags 1 1049kB 10.7GB 10.7GB primary ext4 # remove partition 1 (parted) rm 1 # verify removed partition (parted) print Model: Innostor Innostor (scsi) Disk /dev/sdb: 15.9GB Sector size (logical/physical): 512B/512B Partition Table: msdos Disk Flags: Number Start End Size Type File system Flags ","wordCount":"1091","inLanguage":"en","datePublished":"2021-06-18T16:30:28+05:30","dateModified":"2021-06-18T16:30:28+05:30","author":{"@type":"Person","name":"Dipak Pawar"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://dipak-pawar.github.io/posts/disk-partitioning/"},"publisher":{"@type":"Organization","name":"Dipak Pawar","logo":{"@type":"ImageObject","url":"https://dipak-pawar.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://dipak-pawar.github.io/ accesskey=h title="Dipak's Blog (Alt + H)"><img src=/logo.png alt=logo aria-label=logo height=40>Dipak's Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://dipak-pawar.github.io/about/ title=About><span>About</span></a></li><li><a href=https://dipak-pawar.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://dipak-pawar.github.io/archives/ title=archives><span>archives</span></a></li><li><a href=https://dipak-pawar.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Disk Partitioning</h1><div class=post-meta>June 18, 2021&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Dipak Pawar&nbsp;|&nbsp;<a href=https://github.com/dipak-pawar/dipak-pawar.github.io/content/posts/disk-partitioning.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h2 id=whats-partition>What&rsquo;s Partition?<a hidden class=anchor aria-hidden=true href=#whats-partition>#</a></h2><p><em>Disk Partitioning</em> allows you to divide hard drive into multiple logical sections. There are several reasons why we do it:</p><ul><li>Multi-boot OS</li><li>Easier backup</li><li>Different filesystems to be installed on different partitions</li><li>Clear separation between operating system and user files</li></ul><h3 id=partitioning-schemes>Partitioning Schemes<a hidden class=anchor aria-hidden=true href=#partitioning-schemes>#</a></h3><p><code>MBR</code> & <code>GPT</code> are two different schemes available to do partitions.</p><h4 id=mbr>MBR<a hidden class=anchor aria-hidden=true href=#mbr>#</a></h4><p><code>MBR</code> supports maximum four primary partitions. On Linux, one can create more partitions having three primary & one extended partition which may contain multiple logical partitions.</p><p>The available size for block addresses and related information is limited to 32 bits. For hard disks with 512‑byte sectors, the MBR partition table entries allow a maximum size of <code>2 TiB</code> (2^32 × 512‑bytes) or <code>2.20 TB</code> (2.20 × 10¹² bytes).</p><p>In today&rsquo;s world, we have physical disks greater than 2TiB in size, so MBR scheme having a maximum disk & partition size of 2TiB is really big problem, which is solved by GPT.</p><h4 id=gpt>GPT<a hidden class=anchor aria-hidden=true href=#gpt>#</a></h4><p><code>GPT</code> addresses many of the limitations introduced by MBR & is Forming a part of the Unified Extensible Firmware Interface.</p><p><code>GPT</code> uses 64 bits for logical block addresses, allowing a maximum disk size of 2^64 sectors. For disks with 512‑byte sectors, the maximum size is <code>8 ZiB</code> (2^64 × 512‑bytes) or <code>9.44 ZB</code> (9.44 × 10^21 bytes).</p><h3 id=creating-partitions>Creating Partitions<a hidden class=anchor aria-hidden=true href=#creating-partitions>#</a></h3><p>We can create/manage partitions using <em><code>parted</code></em>, <em><code>fdisk</code></em>, <em><code>gdisk</code></em>. I&rsquo;ll be using <code>parted</code> to play with partitions on USB drive.</p><h4 id=create-gpt-partition>Create GPT Partition<a hidden class=anchor aria-hidden=true href=#create-gpt-partition>#</a></h4><p><em>Select disk to create partition</em></p><pre><code># list devices
[dipak@localhost ~]$ lsblk 
NAME                                            MAJ:MIN RM   SIZE RO TYPE  MOUNTPOINT
sdb                                               8:16   1  14.9G  0 disk  
nvme0n1                                         259:0    0 953.9G  0 disk  
├─nvme0n1p1                                     259:1    0   600M  0 part  /boot/efi
├─nvme0n1p2                                     259:2    0     1G  0 part  /boot
└─nvme0n1p3                                     259:3    0 952.3G  0 part  
  ├─fedora_localhost--live-root                 253:0    0    70G  0 lvm   
  │ └─luks-493fecbb-ff12-452a-914d-33f64d65e942 253:2    0    70G  0 crypt /
  ├─fedora_localhost--live-swap                 253:1    0  19.5G  0 lvm   
  │ └─luks-db8bdc6b-1e43-4074-89ca-1b412c35bc04 253:3    0  19.5G  0 crypt [SWAP]
  └─fedora_localhost--live-home                 253:4    0 862.8G  0 lvm   
    └─luks-c863fba7-ff0b-4896-9fcc-2e6144fccda4 253:5    0 862.8G  0 crypt /home

# check current partition table
[dipak@localhost ~]$ sudo parted /dev/sdb print
Error: /dev/sdb: unrecognised disk label
Model: Innostor Innostor (scsi)                                           
Disk /dev/sdb: 15.9GB
Sector size (logical/physical): 512B/512B
Partition Table: unknown
Disk Flags: 
</code></pre><p>As you can see from above output, we don&rsquo;t have any partition table on <code>sdb</code> device.</p><p><em>Create gpt partition of around 10 GiB.</em></p><pre><code># create new disklabel `gpt`.
[dipak@localhost ~]$ sudo parted /dev/sdb
GNU Parted 3.3
Using /dev/sdb
Welcome to GNU Parted! Type 'help' to view a list of commands.
(parted) mklabel gpt

# verify partition table
(parted) print                                                            
Model: Innostor Innostor (scsi)
Disk /dev/sdb: 15.9GB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
Disk Flags: 

Number  Start  End  Size  File system  Name  Flags

# create first `ext4` partition starting from 1MiB to 10GiB.
(parted) mkpart                                                
Partition name?  []? p1                                                   
File system type?  [ext2]? ext4                                           
Start? 1MiB                                                               
End? 10GiB                                                                

# check created partitions
(parted) print                                                            
Model: Innostor Innostor (scsi)
Disk /dev/sdb: 15.9GB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
Disk Flags: 

Number  Start   End     Size    File system  Name  Flags
 1      1049kB  10.7GB  10.7GB  ext4         p1
</code></pre><p><em>Create filesystem & Mount it</em></p><pre><code># check if we have any filesystem created on partition
[dipak@localhost ~]$ lsblk /dev/sdb
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sdb      8:16   1 14.9G  0 disk 
└─sdb1   8:17   1   10G  0 part

# we don't have any filesystem on partition. Let's create ext4 filesystem on partition `/dev/sdb1`.
[dipak@localhost ~]$ sudo mkfs.ext4 /dev/sdb1
mke2fs 1.45.5 (07-Jan-2020)
Creating filesystem with 2621184 4k blocks and 655360 inodes
Filesystem UUID: 3b4f2bbd-2c3d-4a2a-a317-4859d22d5894
Superblock backups stored on blocks: 
	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (16384 blocks): done
Writing superblocks and filesystem accounting information: done 

# verify `ext4` filesystem 
[dipak@localhost ~]$ lsblk --fs /dev/sdb
NAME   FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINT
sdb                                                                           
└─sdb1 ext4   1.0         3b4f2bbd-2c3d-4a2a-a317-4859d22d5894  

# mount partition &amp; create some data in it.
sudo mkdir /mnt/data
sudo mount /dev/sdb1 /mnt/data

# check if partition is mounted
[dipak@localhost ~]$ lsblk /dev/sdb
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sdb      8:16   1 14.9G  0 disk 
└─sdb1   8:17   1   10G  0 part /mnt/data

# we can permanently mount filesystems by updating`/etc/fstab` entries. 
UUID=3b4f2bbd-2c3d-4a2a-a317-4859d22d5894  /mnt/data  ext4  defaults  0  2
</code></pre><h4 id=delete-gpt-partition>Delete GPT Partition<a hidden class=anchor aria-hidden=true href=#delete-gpt-partition>#</a></h4><p>We have out friend <code>wipefs</code> which helps us to wipe signature from a device</p><pre><code># check device
[dipak@localhost ~]$ lsblk /dev/sdb
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sdb      8:16   1 14.9G  0 disk 
└─sdb1   8:17   1   10G  0 part /mnt/data

# unmount filesystem
[dipak@localhost ~]$ sudo umount /dev/sdb1 

# check filesystem is unmounted
[dipak@localhost ~]$ lsblk /dev/sdb
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sdb      8:16   1 14.9G  0 disk 
└─sdb1   8:17   1   10G  0 part 

# wipe signature from device
[dipak@localhost ~]$ sudo wipefs -a /dev/sdb
/dev/sdb: 8 bytes were erased at offset 0x00000200 (gpt): 45 46 49 20 50 41 52 54
/dev/sdb: 8 bytes were erased at offset 0x3b5fffe00 (gpt): 45 46 49 20 50 41 52 54
/dev/sdb: 2 bytes were erased at offset 0x000001fe (PMBR): 55 aa
/dev/sdb: calling ioctl to re-read partition table: Success

# check device after wiping signature 
[dipak@localhost ~]$ lsblk /dev/sdb 
NAME MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sdb    8:16   1 14.9G  0 disk 

# check partition table
[dipak@localhost ~]$ sudo parted /dev/sdb print
Error: /dev/sdb: unrecognised disk label
Model: Innostor Innostor (scsi)                                           
Disk /dev/sdb: 15.9GB
Sector size (logical/physical): 512B/512B
Partition Table: unknown
Disk Flags: 
</code></pre><h4 id=create-mbr-partition>Create MBR Partition<a hidden class=anchor aria-hidden=true href=#create-mbr-partition>#</a></h4><p><em>Create MBR primary partition of around 10 GiB.</em></p><pre><code># create dos label
[dipak@localhost ~]$ sudo parted /dev/sdb mklabel msdos
Information: You may need to update /etc/fstab.

# create primary partition of 10GiB
[dipak@localhost ~]$ sudo parted /dev/sdb mkpart primary xfs 1MiB 10GiB
Information: You may need to update /etc/fstab.

# verify created partition
[dipak@localhost ~]$ sudo parted /dev/sdb print
Model: Innostor Innostor (scsi)
Disk /dev/sdb: 15.9GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags: 

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  10.7GB  10.7GB  primary  ext4
</code></pre><h4 id=delete-mbr-partition>Delete MBR Partition<a hidden class=anchor aria-hidden=true href=#delete-mbr-partition>#</a></h4><p><em>Let&rsquo;s not use <code>wipefs -a</code> this time.</em></p><pre><code># check current partition table
[dipak@localhost ~]$ sudo parted /dev/sdb
GNU Parted 3.3
Using /dev/sdb
Welcome to GNU Parted! Type 'help' to view a list of commands.
(parted) print                                                            
Model: Innostor Innostor (scsi)
Disk /dev/sdb: 15.9GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags: 

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  10.7GB  10.7GB  primary  ext4

# remove partition 1
(parted) rm 1                                                             

# verify removed partition
(parted) print                                                            
Model: Innostor Innostor (scsi)
Disk /dev/sdb: 15.9GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags: 

Number  Start  End  Size  Type  File system  Flags
</code></pre></div><footer class=post-footer><ul class=post-tags><li><a href=https://dipak-pawar.github.io/tags/linux/>linux</a></li><li><a href=https://dipak-pawar.github.io/tags/storage/>storage</a></li><li><a href=https://dipak-pawar.github.io/tags/basics/>basics</a></li><li><a href=https://dipak-pawar.github.io/tags/til/>TIL</a></li></ul><nav class=paginav><a class=prev href=https://dipak-pawar.github.io/posts/my-first-post/><span class=title>« Prev Page</span><br><span>Sparse File</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://dipak-pawar.github.io/>Dipak Pawar</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script></body></html>